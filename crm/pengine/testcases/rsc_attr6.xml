<cib>
 <configuration>
  <nodes>
    <node id="node1" uname="node1" type="member">
      <attributes>
	<nvpair id="" name="hdd" value="true"/>
	<nvpair id="" name="kernel" value="2.4"/>
      </attributes>
    </node>
    <node id="node2" uname="node2" type="member">
      <attributes>
	<nvpair id="" name="hdd" value="false"/>
	<nvpair id="" name="cpu" value="true"/>
	<nvpair id="" name="kernel" value="2.6"/>
      </attributes>
    </node>
   </nodes>
  <resources>
     <resource id="rsc1" class="heartbeat" type="apache" priority="1.0"/>
  </resources>
  <constraints>
     <rsc_to_node id="cons1" from="rsc1" weight="200.0" modifier="inc">
       <node_ref id="node_match_1" type="uname" name="node1"/>
     </rsc_to_node>
     <rsc_to_attr id="cons2" from="rsc1" weight="20.0" modifier="inc">
       <attr_expression id="attr_exp_1">
          <node_match id="node_match_4" type="attr_value" target="hdd" value="true"/>
          <node_match id="node_match_5" type="attr_value" target="kernel" value="2.4"/>
       </attr_expression>
     </rsc_to_attr>
     <rsc_to_attr id="cons3" from="rsc1" weight="400.0" modifier="inc">
       <attr_expression id="attr_exp_2">
          <node_match id="node_match_1" type="has_attr" target="cpu"/>
          <node_match id="node_match_2" type="attr_value" target="kernel" value="2.6"/>
          <node_match id="node_match_3" type="has_attr" target="hdd"/>
       </attr_expression>
     </rsc_to_attr>
  </constraints>
 </configuration>
 <status>
    <node_state id="node1" crmd="online" join="member" expected="member" timestamp="1086187789" in_ccm="true">
      <lrm>
	<lrm_agents>
	  <lrm_agent class="heartbeat" type="apache"/>
	</lrm_agents>
      </lrm>
    </node_state>
   <node_state id="node2" crmd="online" join="member" expected="member" timestamp="1086187789" in_ccm="true">
      <lrm>
	<lrm_agents>
	  <lrm_agent class="heartbeat" type="apache"/>
	</lrm_agents>
      </lrm>
    </node_state>
  </status>
</cib>
