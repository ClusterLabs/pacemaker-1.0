#
# Copyright (C) 2004 Andrew Beekhof  <andrew@beekhof.net>
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
# 
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
#

Disclaimer: 
#############

    This is not a proper cluster test suite and is intended mainly for the use
     of the developer and as a quickstart guide for those with nothing better
     to do.  

    Some of the requirements and methods in these tests are highly dubious and
     insecure.  

    If you dont feel comfortable with the implications of these scripts, I
     suggest you wait for the proper test suite.

    I reserve the right to break any and all of this at any stage :) 



Pre-reqs:
#############

    Basic requirement
    =======================
    	Configure and compile Heartbeat with --enable-crm

    Basic requirement
    =======================
	Ability to log in via ssh to all nodes without a password.

    Extra-info
	By default the following accounts are used:
	   INIT_USER  = root   (start and stop heartbeat via init script)
	   CRMD_USER  = root   (start and stop crmd executable)
	   ADMIN_USER = root   (run crmd admin commands)

	Of course feel free to set up your ha.cf differently and login as
	whoever you like, just be sure to change the above values in helper.sh

	I also needed to change the shell for the hacluster users from
	 /bin/false to /bin/bash on SuSE.

    Basic requirement
    =======================
    	Set up remote logging to the node you are running the tests from

    Extra-info
	Its not required yet but probably will be soon

    Basic requirement
    =======================
    	Set up 2 nodes called test1 and test2 on a 10.0.6.x subnet (for the IPaddr resource)

    Extra-info
	You can use different names by specifying --node1 <node> and --node2  <node> on the testing command line.
	Changing the IPs can be done with --ip1 and --ip2.

    Basic requirement
    =======================
    	Set up ha.cf as below:

	    debug 1
	    logfacility     local7
	    keepalive 1
	    deadtime 5
	    warntime 3
	    initdead 10
	    udpport 694
	    bcast   eth0
	    auto_failback legacy
	    node    test1
	    node    test2
	    apiauth default uid=root
	    apiauth ccm uid=hacluster
	    respawn hacluster /usr/lib/heartbeat/ccm
	    respawn root /usr/lib/heartbeat/lrmd
	
    Basic requirement
    =======================
    	Heartbeat should not be started by default

I think thats about it... 
 Now just run ./1node.sh and ./2node.sh, they should report if anything went
 wrong.  Try running with -v to get a running log of what the tests are doing. 


Please send all feedback via the -dev list.

- Andrew
